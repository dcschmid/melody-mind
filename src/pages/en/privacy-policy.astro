---
/**
 * @component PrivacyPolicyPage
 * @description English Privacy Policy page for MelodyMind
 */

import Layout from "@layouts/Layout.astro";
import Headline from "@components/Headline.astro";
import Paragraph from "@components/Paragraph.astro";
import { getLangFromUrl, useTranslations } from "@utils/i18n";

// Get current language and translation function
const lang = getLangFromUrl(Astro.url) as string;
const t = useTranslations(String(lang));

// Enable static generation for better caching
export const prerender = true;

// Page configuration
const title = "Privacy Policy | MelodyMind";
const description =
  "Privacy policy for MelodyMind - Information about the processing of personal data";
---

<Layout {title} {description} type="website" showHeader={true} showHeaderIcons={true}>
  <main class="min-h-screen bg-slate-50 py-16 dark:bg-slate-900">
    <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
      <header class="mb-16 text-center">
        <Headline level="h1" title="Privacy Policy" />
        <Paragraph>{t("pages.privacy.intro_p1")}</Paragraph>
        <Paragraph className="text-sm text-slate-500 italic dark:text-slate-400"
          >Last updated: {new Date().toLocaleDateString("en-US")}</Paragraph
        >
      </header>

      <div class="rounded-xl bg-white p-8 shadow-lg dark:bg-slate-800 dark:shadow-xl">
        <section class="mb-16 last:mb-0">
          <Headline level="h2" title="5. Cookies and Local Storage" />
          <div class="mt-6">
            <Headline level="h3" title="Cookies" />
            <Paragraph>
              Our website uses cookies. These are small text files that your browser stores on your
              device. We only use technically necessary cookies for:
            </Paragraph>
            <Paragraph>{t("pages.privacy.cookies")}</Paragraph>
            <Paragraph>
              These cookies are necessary for the website to function and are stored on the basis of
              Art. 6 para. 1 lit. f GDPR.
            </Paragraph>

            <Headline level="h3" title="Local Storage" />
            <Paragraph>
              Your game scores and settings are stored in your browser's local storage. This data
              remains local and is not transmitted.
            </Paragraph>
          </div>
        </section>

        <section class="mb-16 last:mb-0">
          <Headline level="h2" title="6. Your Rights" />
          <div class="mt-6">
            <Paragraph>{t("pages.privacy.user_rights_title")}</Paragraph>
            <Paragraph>{t("pages.privacy.user_rights_text")}</Paragraph>
            <Paragraph>
              {t("pages.privacy.user_rights_text")}
              <a
                href="mailto:dcschmid@murena.io"
                class="rounded text-blue-600 underline hover:text-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none"
              >
                dcschmid@murena.io
              </a>
            </Paragraph>
          </div>
        </section>

        <section class="mb-16 last:mb-0">
          <Headline level="h2" title="7. Analytics Tools" />
          <div class="mt-6">
            <Headline level="h3" title="Fathom Analytics" />
            <Paragraph>
              We use Fathom Analytics, a privacy-focused analytics service, to better understand how
              visitors interact with our website. Fathom Analytics is GDPR, CCPA and PECR compliant
              and does not use cookies or collect personal data.
            </Paragraph>
            <Paragraph>{t("pages.privacy.analytics")}</Paragraph>
            <Paragraph>
              This data is processed anonymously and cannot be used to identify individual users.
              For more information, see Fathom's privacy policy:
              <a
                href="https://usefathom.com/privacy"
                class="external-link rounded text-blue-600 underline hover:text-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none"
                target="_blank"
                rel="noopener noreferrer"
                data-external-label="fathom"
              >
                usefathom.com/privacy
              </a>
            </Paragraph>
          </div>
        </section>

        <section class="mb-16 last:mb-0">
          <Headline level="h2" title="8. Contact and Complaints" />
          <div class="mt-6">
            <Paragraph>
              If you have questions about data protection, wish to exercise your rights, or have
              complaints, you can always contact us:
            </Paragraph>
            <div class="mt-4 rounded-lg bg-slate-100 p-6 dark:bg-slate-700">
              <Paragraph>{t("pages.privacy.contact")}</Paragraph>
            </div>
            <Paragraph>
              You also have the right to lodge a complaint with a data protection supervisory
              authority about our processing of your personal data.
            </Paragraph>
          </div>
        </section>

        <section class="mb-16 last:mb-0">
          <Headline level="h2" title="9. Security" />
          <div class="mt-6">
            <Paragraph>
              We use appropriate technical and organizational security measures to protect your data
              against accidental or intentional manipulation, partial or complete loss, destruction,
              or unauthorized access by third parties.
            </Paragraph>
            <Paragraph>
              The website is transmitted via HTTPS encryption. This protects your input from access
              by third parties.
            </Paragraph>
          </div>
        </section>

        <section class="mb-16 last:mb-0">
          <Headline level="h2" title="10. Changes to this Privacy Policy" />
          <div class="mt-6">
            <Paragraph>
              We reserve the right to adapt this privacy policy so that it always complies with
              current legal requirements or to implement changes to our services in the privacy
              policy.
            </Paragraph>
            <Paragraph>
              The new privacy policy will then apply to your next visit. We recommend that you visit
              this page regularly to stay informed about changes.
            </Paragraph>
          </div>
        </section>
      </div>
    </div>
  </main>
</Layout>
