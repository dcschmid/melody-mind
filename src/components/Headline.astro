---
/**
 * Headline Component - Simple & Clean
 *
 * A clean heading component with different levels and basic styling.
 *
 * @component
 * @example
 * ```astro
 * <Headline level="h1">
 *   Welcome to MelodyMind
 * </Headline>
 * ```
 */
interface Props {
  /** Text content of the heading (can also use slot content instead) */
  title?: string;
  /** HTML heading level (h1-h6) for proper document hierarchy */
  level?: "h1" | "h2" | "h3" | "h4" | "h5" | "h6";
  /** Additional CSS classes to apply */
  className?: string;
  /** Text size variant */
  textSize?: "sm" | "base" | "lg" | "xl" | "2xl" | "3xl";
  /** Text alignment option */
  textAlign?: "left" | "center" | "right";
}

const {
  title,
  level = "h1",
  className = "",
  textSize = "lg",
  textAlign = "left",
} = Astro.props;

// Dynamic heading tag based on level prop
const Tag = level;

const baseClasses = "headline";

const textSizeClasses: Record<NonNullable<Props["textSize"]>, string> = {
  sm: "headline--size-sm",
  base: "headline--size-base",
  lg: "headline--size-lg",
  xl: "headline--size-xl",
  "2xl": "headline--size-2xl",
  "3xl": "headline--size-3xl",
};

const textAlignClasses: Record<NonNullable<Props["textAlign"]>, string> = {
  left: "headline--align-left",
  center: "headline--align-center",
  right: "headline--align-right",
};

const classes = [
  baseClasses,
  textSizeClasses[textSize],
  textAlignClasses[textAlign],
  className,
]
  .filter(Boolean)
  .join(" ");

// Simple attributes
const attributes: Record<string, any> = {
  class: classes,
};
---

<Tag {...attributes}>{title || <slot />}</Tag>
<style>
  .headline {
    font-family: var(--font-display);
    line-height: var(--line-height-tight);
    letter-spacing: var(--letter-spacing-tight);
    font-weight: 700;
    color: var(--gn-ink);
    text-wrap: balance;
    text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.55);
    overflow-wrap: break-word;
    margin: 0;
  }

  .headline--size-sm {
    font-size: 1.25rem;
  }

  .headline--size-base {
    font-size: 1.375rem;
  }

  .headline--size-lg {
    font-size: 1.625rem;
  }

  .headline--size-xl {
    font-size: 2.125rem;
  }

  .headline--size-2xl {
    font-size: 2.625rem;
  }

  .headline--size-3xl {
    font-size: 3.125rem;
  }

  @media (min-width: 768px) {
    .headline--size-sm {
      font-size: 1.375rem;
    }

    .headline--size-base {
      font-size: 1.625rem;
    }

    .headline--size-lg {
      font-size: 1.875rem;
    }

    .headline--size-xl {
      font-size: 2.625rem;
    }

    .headline--size-2xl {
      font-size: 3.125rem;
    }

    .headline--size-3xl {
      font-size: 3.625rem;
    }
  }

  .headline--align-left {
    text-align: left;
  }

  .headline--align-center {
    text-align: center;
  }

  .headline--align-right {
    text-align: right;
  }
</style>
