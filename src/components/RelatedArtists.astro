---
interface RelatedArtist {
  name: string;
  slug: string;
  genres: string[];
  reason: string;
}

interface Props {
  artists: RelatedArtist[];
}

const { artists } = Astro.props;
---

<section class="related-artists" aria-labelledby="related-artists-title">
  <h2 id="related-artists-title" class="related-artists__title">Similar Artists</h2>
  {
    artists.length ? (
      <ul class="related-artists__grid">
        {artists.map((artist) => (
          <li class="related-artists__card">
            <a href={`/artists/${artist.slug}`} class="related-artists__link">
              <p class="related-artists__name">{artist.name}</p>
              <p class="related-artists__reason">{artist.reason}</p>
              <p class="related-artists__genres">
                {artist.genres.slice(0, 3).join(" â€¢ ")}
              </p>
            </a>
          </li>
        ))}
      </ul>
    ) : (
      <p class="related-artists__empty">No similar artists found yet.</p>
    )
  }
</section>

<style>
  .related-artists {
    display: grid;
    gap: 1rem;
  }

  .related-artists__title {
    margin: 0;
    font-size: 1.5rem;
    color: var(--gn-ink);
  }

  .related-artists__grid {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: 0.9rem;
  }

  @media (min-width: 760px) {
    .related-artists__grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  .related-artists__card {
    border: 2px solid color-mix(in srgb, var(--gn-panel-border) 85%, transparent);
    border-radius: 1rem;
    background: color-mix(in srgb, var(--gn-bg-muted) 92%, transparent);
    overflow: hidden;
  }

  .related-artists__link {
    display: block;
    padding: 1rem;
    text-decoration: none;
    color: inherit;
  }

  .related-artists__name {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--gn-ink);
  }

  .related-artists__reason,
  .related-artists__genres {
    margin: 0.35rem 0 0;
    color: var(--gn-ink-muted);
  }

  .related-artists__empty {
    margin: 0;
    color: var(--gn-ink-muted);
  }
</style>
