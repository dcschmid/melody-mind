---
import { Icon } from "astro-icon/components";
import { getLangFromUrl, useTranslations } from "@utils/i18n";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<div
  id="chronology-feedback-overlay"
  class="fixed inset-0 flex items-center justify-center z-50 bg-black/80 hidden"
  role="dialog"
  aria-modal="true"
  aria-labelledby="feedback-title"
>
  <div
    class="bg-zinc-900 border border-zinc-700 rounded-xl max-w-xl w-full mx-4 p-6 shadow-2xl"
  >
    <h2
      id="feedback-title"
      class="text-xl md:text-2xl font-bold text-center mb-4"
    >
      {t("game.chronology.result") || "Ergebnis"}
    </h2>

    <div id="feedback-content" class="text-center mb-6">
      <!-- Inhalt wird dynamisch hinzugefügt -->
    </div>

    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
      <button
        id="chronology-continue-button"
        class="px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-full font-bold transition-all hover:scale-105"
      >
        {t("game.next.round") || "Nächste Runde"}
      </button>
      <button
        id="chronology-end-button"
        class="px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-full font-bold transition-all hover:scale-105 hidden"
      >
        {t("game.end.title") || "Spiel beenden"}
      </button>
    </div>
  </div>
</div>

<script>
  // Diese Komponente wird durch den Chronologie-Spielmodus gesteuert
  // und zeigt Feedback nach jeder Runde an
</script>