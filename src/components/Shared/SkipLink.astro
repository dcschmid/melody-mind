---
/**
 * @component SkipLink
 * @description Accessibility component that allows keyboard users to bypass repetitive navigation
 * and quickly access the main content. Initially hidden visually but appears when focused.
 *
 * @example
 * ```astro
 * <SkipLink targetId="quiz-content" />
 * <SkipLink targetId="main-content" />
 * ```
 */
import { getLangFromUrl, useTranslations } from "@utils/i18n";
import { Icon } from "astro-icon/components";

interface Props {
  /**
   * The ID of the element to target when the skip link is activated
   * @default "main-content"
   */
  targetId?: string;
}

const { targetId = "main-content" } = Astro.props;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const skipLinkClasses = "skip-link";
const iconClasses = "skip-link__icon";
---

<a
  href={`#${targetId}`}
  class={skipLinkClasses}
  data-skip-link
  aria-label={t("nav.skip.main")}
>
  <Icon name="external-link" class={iconClasses} aria-hidden="true" />
  {t("nav.skip.main")}
</a>
